%%
%% ut_thesis.sty ver 0.6
%%
%% Tartu U"likooli (Matemaatika-informaatika teaduskonna)
%% lo~puto"o"de stiilipakett
%%
%% Tõnu Tamme, 23. november 2011
%% Kaarel Kaljurand, 08. mai 2001.
%%

\NeedsTeXFormat {LaTeX2e}[1994/12/01]
\def \filename {ut_thesis.sty}
\def \filedate {2011/11/23}
\def \fileversion {0.6}
\ProvidesPackage {ut_thesis}[\filedate\space\fileversion\space
  Contributed and Supported LaTeX2e package]

\typeout{Package: `ut_thesis' \fileversion\space <\filedate>}
\typeout{Document Style Option `ut_thesis' for LaTeX2e.}

%% laadime need pakid ka, kas see on hea mo~te?
%% eriti hea ei ole...
%\typeout{Loading also `t1enc', `fontenc' and `babel estonian':}
%\usepackage{t1enc}
%\usepackage{fontenc}
%\usepackage[estonian]{babel}
% vo~i hoopis nii
%\RequirePackage{t1enc}
%\RequirePackage{fontenc}
%\RequirePackage[estonian]{babel}

%%
%% vaatame kas laaditud on 'article' vo~i 'report'
%%
\newif\ifmyartikkel
\myartikkelfalse

\@ifundefined{chapter}{
	\myartikkeltrue
	}{}

%%
%% ku"ljendusparameetrid
%% hetkel vo~tame 'article' vaikeva"a"rtused
%%

%\oddsidemargin 0.5in \evensidemargin 0in
%\marginparwidth 40pt \marginparsep 10pt
%\topmargin 0pt \headsep .5in
%\textheight 8.1in \textwidth 6in

%% kuidas teha teistsuguseid lo~iguvahesid?
%\renewcommand{\newblock{\medskip\noindent}}

%% Disallow page breaks at hyphens (this will give some underfull vbox's,
%% so an alternative is to use \brokenpenalty=100 and manually search
%% for and fix such page breaks)
\brokenpenalty=10000

%% eesti-stiilis jutuma"rgid
%\newcommand{\jutt}[1]{\mbox{,\hspace{-1pt},}#1''}
\newcommand{\jutt}[1]{,,#1''}

%%
%% need on konstandid 
%%

\def\ylikool{TARTU ÜLIKOOL}

%%
%% ja need on muutujad (a"kki peaks teaduskonna
%% konstandiks panema?)
%%

\def\teaduskond#1{\gdef\@teaduskond{#1}}
\def\instituut#1{\gdef\@instituut{#1}}
\def\oppetool#1{\gdef\@oppetool{#1}}
\def\eriala#1{\gdef\@eriala{#1}}
\def\paber#1{\gdef\@paber{#1}}
\def\juhendaja#1{\gdef\@juhendaja{#1}}

\def\autor#1{\gdef\@autor{#1}}
\def\pealkiri#1{\gdef\@pealkiri{#1}}


%%
%% eestikeelsed kuupa"evad
%%
\def\@kuuaasta{\ifcase\the\month\or
  jaanuar\or veebruar\or märts\or aprill\or mai\or juuni\or
  juuli\or august\or september\or oktoober\or november\or detsember\fi
  \space \number\the\year}

\def\@aasta{\the\year}

%%
%% punktijoru genereerimiseks vajalik
%%

\newcommand{\indexdotsep}{1.24}
\newcommand{\indexdotfill}{%
  \leaders\hbox{$\m@th
    \mkern\indexdotsep mu\hbox{.}%
    \mkern\indexdotsep mu$}\hfill}


%% tiitelleht
\def\tiitelleht{\newpage}
\def\endtiitelleht{\teetiitelleht}


%%
%% tiitellehe tegemine
%%
\def\teetiitelleht{%
        \thispagestyle{empty}
        \Large
	\begin{center}
        \expandafter{\ylikool} \\
        \expandafter{\@teaduskond} \\
        \expandafter{\@instituut} \\
        %\expandafter{\@oppetool} \\%T.T.
        \expandafter{\@eriala}
	\end{center}

	\vskip1in

        \begin{center}
        	\Large\expandafter{\@autor}
	\end{center}

        \begin{center}
                \Huge\expandafter{\@pealkiri}
        \end{center}

        \vfill
        \centerline{\@paber}


	\vskip.5in
        \begin{flushright}
        	\large{Juhendaja: \@juhendaja}
	\end{flushright}
	\vskip.5in

	\normalsize

%% * tabelis vo~iks tyhjad read a"ra kaotada ja
%% selle asemel ma"a"rata kuskil 'lineheight'. kuidas?

	\begin{center}

	\begin{tabular}{p{8.0cm}p{1.5cm}r}
	Autor: \indexdotfill . & "\indexdotfill" & \@kuuaasta \\
	& & \\
	Juhendaja: \indexdotfill . & "\indexdotfill" & \@kuuaasta \\
	& & \\
	Lubada kaitsmisele\\[3mm]
	%& & \\
	%Õppetooli juhataja: \indexdotfill . & "\indexdotfill" & \@kuuaasta \\
	Professor: \indexdotfill . & "\indexdotfill" & \@kuuaasta
	\end{tabular}

	\end{center}

        \vfill
        \centerline{Tartu \@aasta}}


%%
%% sissejuhatus
%%

%% sissejuhatuse ette numbrit ei kirjutata aga
%% sisukorda teeme ma"rke ikka

\def\sissejuhatus#1{%
	\ifmyartikkel
        	\section*{#1}
		\addcontentsline{toc}{section}{#1}
	\else
        	\chapter*{#1}
		\addcontentsline{toc}{chapter}{#1}
	\fi}

%%
%% sisukorra tegemine
%%
\def\teesisukord{%
	\newpage
        \tableofcontents
        \newpage}

%\renewcommand{\thesection}{\arabic{section}.}%(ei tööta!)

%%
%% ut_thesis.sty ends
%%
